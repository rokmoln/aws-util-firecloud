{"version":3,"sources":["../src/region.js"],"names":[],"mappings":";;;;;;;AAAA;;;;AACA;;;;;;AAEO,IAAI,sCAAe,CACxB,YADwB,EAExB,gBAFwB,CAAnB;;AAKA,IAAI,4BAAU;AACnB;AACA,gBAFmB,EAGnB,gBAHmB,EAInB,YAJmB,EAKnB,gBALmB,EAMnB,gBANmB;;AAQnB;AACA,cATmB;;AAWnB;AACA,cAZmB,EAanB,WAbmB,EAcnB,WAdmB,EAenB,WAfmB;;AAiBnB;AACA,WAlBmB;;AAoBnB;AACA,WArBmB,EAsBnB,WAtBmB;;AAwBnB;AACA,WAzBmB,EA0BnB,WA1BmB,CAAd;;AA6BA,IAAI,oBAAM,UAAS,EAAC,GAAD,EAAT,EAAgB;AAC/B,SAAO,IAAI,UAAX;AACD,CAFM;;AAIA,IAAI,gCAAY,UAAS,EAAC,MAAD,EAAS,GAAT,EAAT,EAAwB;AAC7C,WAAS,0BAAE,SAAF,CAAY,MAAZ,EAAoB,YAAI,EAAC,GAAD,EAAJ,CAApB,CAAT;AACA,MAAI,SAAS,eAAb;;AAEA,MAAI,0BAAE,GAAF,uBAAoB,MAApB,CAAJ,EAAiC;AAC/B,aAAS,kBAAT;AACD;;AAED,SAAO,MAAP;AACD,CATM;;AAWA,IAAI,qCAAJ;;AAEP;AACA;AACO,IAAI,sCAAe,IAAI,KAAJ,CAAU,EAAV,EAAc;AACtC,OAAK,UAAS,OAAT,EAAkB,QAAlB,EAA4B,SAA5B,EAAuC;AAC1C,QAAI,gBAAJ,EAAc;AACZ,cAPK,OAOL,aAAU,YAAI,EAAC,kBAAD,EAAJ,CAAV;AACD;;AAED,WAAO,gBAAQ,QAAR,CAAP;AACD;AAPqC,CAAd,CAAnB","file":"region.js","sourcesContent":["import _ from 'lodash-firecloud';\nimport env from './env';\n\nexport let chinaRegions = [\n  'cn-north-1',\n  'cn-northwest-1'\n];\n\nexport let regions = [\n  // Asia Pacific\n  'ap-northeast-1',\n  'ap-northeast-2',\n  'ap-south-1',\n  'ap-southeast-1',\n  'ap-southeast-2',\n\n  // Canada\n  'ca-central-1',\n\n  // EU\n  'eu-central-1',\n  'eu-west-1',\n  'eu-west-2',\n  'eu-west-3',\n\n  // South America\n  'sa-east-1',\n\n  // US East\n  'us-east-1',\n  'us-east-2',\n\n  // US West\n  'us-west-1',\n  'us-west-2'\n];\n\nexport let get = function({env}) {\n  return env.AWS_REGION;\n};\n\nexport let getDomain = function({region, env}) {\n  region = _.defaultTo(region, get({env}));\n  let domain = 'amazonaws.com';\n\n  if (_.has(chinaRegions, region)) {\n    domain = 'amazonaws.com.cn';\n  }\n\n  return domain;\n};\n\nexport let current;\n\n// lazy init\n// eslint-disable-next-line fp/no-proxy\nexport let currentProxy = new Proxy({}, {\n  get: function(_target, property, _receiver) {\n    if (!current) {\n      current = get({env});\n    }\n\n    return current[property];\n  }\n});\n\nexport default currentProxy;\n"]}