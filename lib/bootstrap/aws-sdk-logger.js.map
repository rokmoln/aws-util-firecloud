{"version":3,"sources":["../../src/bootstrap/aws-sdk-logger.ts"],"names":[],"mappings":"2GAAA;AACA,2D;;;;;;;;;AASA;AACA,IAAI,cAAc,GAAG,IAAI,OAAO,CAAC,OAAZ,CAAoB;AACvC,EAAA,MAAM,EAAE,OAAO,CAAC,MADuB;AAEvC,EAAA,MAAM,EAAE,OAAO,CAAC,MAFuB,EAApB,CAArB,C;;;AAKA,gBAAI,MAAJ,CAAW,MAAX,GAAoB;AAClB,EAAA,KAAK,EAAE,KADW;AAElB,EAAA,GAAG,EAAE,UAAS,GAAG,QAAZ,EAAsB;AACzB;AACA,yBAAO,QAAQ,CAAC,CAAD,CAAf;AACA,QAAI,QAAQ,CAAC,MAAT,GAAkB,CAAtB,EAAyB;AACvB,YAAM,IAAI,KAAJ,CAAW,iCAAgC,QAAQ,CAAC,MAAO,+BAA3D,CAAN;AACD;AACF,GARiB,EAApB","file":"aws-sdk-logger.js","sourcesContent":["import aws from 'aws-sdk';\nimport logger from '../logger';\n\n// TODO missing definition in aws-sdk-js\ndeclare module 'aws-sdk/lib/config' {\n  interface Logger {\n    isTTY?: boolean;\n  }\n}\n\n// eslint-disable-next-line no-console\nlet _stdErrConsole = new console.Console({\n  stdout: process.stderr,\n  stderr: process.stderr\n});\n\naws.config.logger = {\n  isTTY: false,\n  log: function(...messages) {\n    // ignore the rest, aws-sdk-js only calls with one argument: awsSdkMessage\n    logger(messages[0], _stdErrConsole);\n    if (messages.length > 1) {\n      throw new Error(`aws-sdk-js logger called with ${messages.length} arguments instead of just 1.`);\n    }\n  }\n};\n"]}